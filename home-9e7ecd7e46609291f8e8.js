(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{629:function(e,t,a){"use strict";a.r(t),function(e){var r,n=a(74),o=a(1),s=a.n(o),c=a(189),l=a(643),i=a(661),u=a(188),d=a(267),m=a(662),f=a(667);(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const h=Object(n.a)("div")({name:"StyledHome",class:"s1kdyk3t"}),p=()=>{const{searchQuery:e,setSearchQuery:t}=s.a.useContext(c.b),a=Object(l.a)(),r=Object(i.a)();s.a.useEffect(()=>{const e=a[d.b]?a[d.b]:null;"string"==typeof e&&t(e)},[]),s.a.useEffect(()=>{r({query:{[d.b]:e||null}})},[e]);const n=s.a.useMemo(()=>s.a.createElement(u.a,{href:"https://support.signal.org/hc/en-us/articles/360031836512-Stickers",title:"Stickers - Signal Support"},"sticker packs"),[]),o=s.a.useMemo(()=>s.a.createElement(u.a,{href:"https://twitter.com/signalstickers",title:"Twitter"},"@signalstickers"),[]);return s.a.createElement(h,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 mt-4 mb-1 mb-md-3 pt-lg-2"},s.a.createElement("p",{className:"intro"},"Welcome to Signal Stickers, the unofficial directory for Signal ",n,". You can filter packs by title, author, or tags. Follow ",o," on Twitter to stay tuned for new packs!"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement(m.a,null))),s.a.createElement(f.a,null))};b(p,"useContext{{\n    searchQuery,\n    setSearchQuery\n  }}\nuseQuery{query}\nuseUpdateUrl{updateUrl}\nuseEffect{}\nuseEffect{}\nuseMemo{stickerPackLink}\nuseMemo{twitterLink}",()=>[l.a,i.a]);const g=p;var v,k;t.default=g,a(673),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(h,"StyledHome","/home/romain/dev/signalstickers/src/components/home/Home.tsx"),v.register(p,"HomeComponent","/home/romain/dev/signalstickers/src/components/home/Home.tsx"),v.register(g,"default","/home/romain/dev/signalstickers/src/components/home/Home.tsx")),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&k(e)}.call(this,a(27)(e))},643:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return i}));var r,n,o,s=a(641),c=a.n(s),l=a(15);function i(){return c.a.parse(Object(l.l)().search)}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(i,"useLocation{}",()=>[l.l]),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(i,"useQuery","/home/romain/dev/signalstickers/src/hooks/use-query.ts"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)}).call(this,a(27)(e))},661:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return u}));var r,n,o,s=a(641),c=a.n(s),l=a(760),i=a(15);function u(){const e=Object(i.k)();return t=>{const a=c.a.parseUrl(e.location.pathname),r=c.a.stringifyUrl(l.a(a,t));e.replace(r)}}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(u,"useHistory{history}",()=>[i.k]),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(u,"useUpdateUrl","/home/romain/dev/signalstickers/src/hooks/use-update-url.ts"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)}).call(this,a(27)(e))},662:function(e,t,a){"use strict";(function(e){var r,n=a(663),o=a.n(n),s=a(74),c=a(1),l=a.n(c),i=a(665),u=a(112),d=a(179),m=a(189);(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const b=Object(s.a)("div")({name:"SearchInput",class:"sooxe2f"}),h=Object(s.a)("div")({name:"SearchPrepend",class:"sbfo2dx"}),p=Object(s.a)("div")({name:"SearchHelp",class:"s1mpu9hs"}),g=Object(s.a)("div")({name:"SearchClear",class:"s1vlsbwh"}),v=Object(s.a)("button")({name:"MiniTag",class:"m1hdpes4"}),k=Object(s.a)(v)({name:"MiniAnimated",class:"mt1kbct"}),y=()=>{const{searcher:e,searchQuery:t,searchResults:a,setSearchQuery:r}=l.a.useContext(m.b),[n,s]=l.a.useState(""),c=l.a.useRef(null),f=["cute","privacy","meme","for children"],y=o()(r,{wait:250});l.a.useEffect(()=>{t&&s(t)},[t]);const S=l.a.useCallback(e=>{const{value:t}=e.target;s(t)},[s]);l.a.useEffect(()=>(y.cancel(),y(n),()=>{y.cancel()}),[y,n]);const H=l.a.useCallback(t=>{e&&t.currentTarget.textContent&&("tag"===t.currentTarget.getAttribute("data-suggestion-type")?r(e.buildQueryString({attributeQueries:[{tag:t.currentTarget.textContent}]})):"animated"===t.currentTarget.getAttribute("data-suggestion-type")&&r(e.buildQueryString({attributeQueries:[{animated:"true"}]})))},[e,r]),E=l.a.useCallback(()=>{c.current&&(c.current.style.opacity="1",c.current.style.pointerEvents="initial")},[c]),L=l.a.useCallback(()=>{c.current&&(c.current.style.opacity="0",setTimeout(()=>{c.current&&(c.current.style.pointerEvents="none")},250))},[c]),G=l.a.useCallback(e=>{e.preventDefault(),s(""),r("")},[s,r]);l.a.useEffect(()=>{t&&s(t)},[t]),l.a.useEffect(()=>(y.cancel(),y(n),()=>{y.cancel()}),[y,n]);const C=l.a.useMemo(()=>f.map(e=>l.a.createElement(v,{type:"button",key:e,className:"btn mr-1",onClick:H,"data-suggestion-type":"tag"},e)),[f]);return l.a.createElement(b,{className:"form-group mb-4 mb-md-5"},l.a.createElement("div",{className:"mb-1 position-relative"},l.a.createElement(h,null,l.a.createElement(u.i,null)),l.a.createElement("input",{type:"text",key:"search",className:"form-control form-control-lg",onBlur:L,onChange:S,onFocus:E,value:n,title:"Search","aria-label":"search",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:"false"}),l.a.createElement(p,{ref:c},l.a.createElement(i.HashLink,{to:"/about#searching",title:"Search Help"},l.a.createElement(d.b,{className:"text-muted"}))),l.a.createElement(g,null,l.a.createElement("button",{type:"button",className:"btn btn-link border-0",title:"Clear Search Results",onClick:G},l.a.createElement(u.l,null)))),l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("div",null,l.a.createElement("small",null,"Lost? Why not start with..."," "),l.a.createElement("br",{className:"d-inline d-md-none"}),l.a.createElement(k,{type:"button",className:"btn mr-1",onClick:H,"data-suggestion-type":"animated"},"animated"),C),l.a.createElement("div",{className:"text-muted"},l.a.createElement("small",null,(null==a?void 0:a.length)||0," ",1===a.length?"result":"results"))))};f(y,"useContext{{\n    searcher,\n    searchQuery,\n    searchResults,\n    setSearchQuery\n  }}\nuseState{[searchQueryInputValue, setSearchQueryInputValue]('')}\nuseRef{searchHelpRef}\nuseEffect{}\nuseCallback{onSearchQueryInputChange}\nuseEffect{}\nuseCallback{onSuggestionClick}\nuseCallback{handleInputFocus}\nuseCallback{handleInputBlur}\nuseCallback{clearSearchResults}\nuseEffect{}\nuseEffect{}\nuseMemo{tagsFragment}");const S=y;var H,E;t.a=S,a(666),(H="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(H.register(b,"SearchInput","/home/romain/dev/signalstickers/src/components/home/SearchInput.tsx"),H.register(h,"SearchPrepend","/home/romain/dev/signalstickers/src/components/home/SearchInput.tsx"),H.register(p,"SearchHelp","/home/romain/dev/signalstickers/src/components/home/SearchInput.tsx"),H.register(g,"SearchClear","/home/romain/dev/signalstickers/src/components/home/SearchInput.tsx"),H.register(v,"MiniTag","/home/romain/dev/signalstickers/src/components/home/SearchInput.tsx"),H.register(k,"MiniAnimated","/home/romain/dev/signalstickers/src/components/home/SearchInput.tsx"),H.register(y,"SearchInputComponent","/home/romain/dev/signalstickers/src/components/home/SearchInput.tsx"),H.register(S,"default","/home/romain/dev/signalstickers/src/components/home/SearchInput.tsx")),(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&E(e)}).call(this,a(27)(e))},666:function(e,t,a){"use strict";a.r(t)},667:function(e,t,a){"use strict";(function(e){var r,n=a(74),o=a(1),s=a.n(o),c=a(73),l=a(668),i=a(761),u=a(189),d=a(670);(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const f=Object(n.a)("div")({name:"StickerPackList",class:"soapbay"}),b=()=>{const{searchResults:e}=s.a.useContext(u.b),[t,a]=s.a.useState(0),[r,n]=s.a.useState([]),o=s.a.useCallback(()=>{if(r.length>=e.length)return;const o=t+64;a(o),n(i.a(o,e))},[t,e,r]);return s.a.useLayoutEffect(()=>{a(0),n([]),o()},[e]),s.a.createElement(f,{className:"row"},r.map(e=>s.a.createElement("div",{className:"col-6 col-md-4 col-lg-3 mb-4",key:e.item.meta.id},s.a.createElement(c.Link,{to:"/pack/"+e.item.meta.id},s.a.createElement(d.a,{stickerPack:e.item})))),s.a.createElement(l.a,{key:t,onEnter:o,bottomOffset:"-500px"}))};m(b,"useContext{{\n    searchResults\n  }}\nuseState{[cursor, setCursor](0)}\nuseState{[renderedSearchResults, setRenderedSearchResults]([])}\nuseCallback{loadMore}\nuseLayoutEffect{}");const h=b;var p,g;t.a=h,a(672),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(f,"StickerPackList","/home/romain/dev/signalstickers/src/components/home/SearchResults.tsx"),p.register(64,"PAGE_SIZE","/home/romain/dev/signalstickers/src/components/home/SearchResults.tsx"),p.register(b,"StickerPackListComponent","/home/romain/dev/signalstickers/src/components/home/SearchResults.tsx"),p.register(h,"default","/home/romain/dev/signalstickers/src/components/home/SearchResults.tsx")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)}).call(this,a(27)(e))},670:function(e,t,a){"use strict";(function(e){var r,n=a(74),o=a(1),s=a.n(o),c=a(82),l=a.n(c),i=a(190);(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const d=Object(n.a)("div")({name:"StickerPackPreviewCard",class:"s6bnemm",vars:{"s6bnemm-0":[e=>e.original?"block":"none"],"s6bnemm-1":[e=>e.animated?"block":"none"],"s6bnemm-2":[e=>e.nsfw?"blur(4px)":"none"]}}),m=e=>{const[t,a]=s.a.useState(),{meta:r,manifest:n}=e.stickerPack;l()(async()=>{try{if(void 0!==r.id){const e=await Object(i.a)(r.id,r.key,n.cover.id);a(e)}}catch(e){console.error("[StickerPackPreviewCard::Effect::GetCover] "+e.message)}},[r.id,r.key,n.cover.id]);const o=`${n.title}${r.nsfw?" (NSFW)":""}`;return s.a.createElement(d,{className:"card",original:r.original,animated:r.animated,nsfw:r.nsfw,"aria-label":o},t?s.a.createElement("img",{className:"card-img-top",src:t,alt:"Cover"}):s.a.createElement("div",{className:"card-img-top"}," "),s.a.createElement("div",{className:"card-header"},o))};u(m,"useState{[cover, setCover]}\nuseAsyncEffect{}",()=>[l.a]);const f=m;var b,h;t.a=f,a(671),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(d,"StickerPackPreviewCard","/home/romain/dev/signalstickers/src/components/home/StickerPackPreviewCard.tsx"),b.register(m,"StickerPackPreviewCardComponent","/home/romain/dev/signalstickers/src/components/home/StickerPackPreviewCard.tsx"),b.register(f,"default","/home/romain/dev/signalstickers/src/components/home/StickerPackPreviewCard.tsx")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)}).call(this,a(27)(e))},671:function(e,t,a){"use strict";a.r(t)},672:function(e,t,a){"use strict";a.r(t)},673:function(e,t,a){"use strict";a.r(t)}}]);
//# sourceMappingURL=home-9e7ecd7e46609291f8e8.js.map